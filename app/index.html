<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>efixDI+ Protocol | Renda Fixa Tokenizada com Alavancagem DeFi</title>
    <meta name="description" content="Invista em renda fixa brasileira tokenizada com yields de 25-35% APY atrav√©s de alavancagem DeFi segura.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- React & Ethers -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    
    <style>
        :root {
            --bg-primary: #06090f;
            --bg-secondary: #0d1117;
            --bg-card: #161b22;
            --bg-card-hover: #1c2128;
            --bg-elevated: #21262d;
            --border-color: rgba(48, 54, 61, 0.8);
            --border-glow: #58a6ff;
            
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            
            --accent-blue: #58a6ff;
            --accent-purple: #a371f7;
            --accent-green: #3fb950;
            --accent-yellow: #d29922;
            --accent-orange: #db6d28;
            --accent-red: #f85149;
            --accent-cyan: #39d353;
            
            --gradient-hero: linear-gradient(135deg, #58a6ff 0%, #a371f7 50%, #db6d28 100%);
            --gradient-gold: linear-gradient(135deg, #d29922 0%, #db6d28 100%);
            --gradient-success: linear-gradient(135deg, #238636 0%, #3fb950 100%);
            
            --shadow-glow: 0 0 60px rgba(88, 166, 255, 0.15);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.4);
            
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 14px;
            --radius-xl: 20px;
            
            --font-main: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-main);
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.5;
        }

        /* Animated Background */
        .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background-image: 
                linear-gradient(rgba(88, 166, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(88, 166, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
        }

        .bg-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 20% -10%, rgba(88, 166, 255, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 110%, rgba(163, 113, 247, 0.08) 0%, transparent 50%);
        }

        /* App Container */
        .app {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 32px;
            border-bottom: 1px solid var(--border-color);
            backdrop-filter: blur(16px);
            background: rgba(6, 9, 15, 0.8);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo-mark {
            width: 38px;
            height: 38px;
            background: var(--gradient-hero);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 16px;
            color: white;
            box-shadow: 0 4px 12px rgba(88, 166, 255, 0.3);
        }

        .logo-text {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: -0.5px;
        }

        .logo-plus {
            color: var(--accent-yellow);
        }

        .beta-tag {
            font-size: 9px;
            font-weight: 700;
            padding: 3px 8px;
            background: var(--gradient-gold);
            border-radius: 20px;
            color: #000;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-link {
            padding: 10px 18px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            border-radius: var(--radius-md);
            transition: all 0.2s;
        }

        .nav-link:hover {
            color: var(--text-primary);
            background: var(--bg-card);
        }

        .nav-link.active {
            color: var(--text-primary);
            background: var(--bg-card);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .network-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            background: rgba(63, 185, 80, 0.1);
            border: 1px solid rgba(63, 185, 80, 0.3);
            border-radius: var(--radius-md);
            font-size: 13px;
            font-weight: 500;
            color: var(--accent-green);
        }

        .network-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .connect-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--gradient-hero);
            border: none;
            border-radius: var(--radius-md);
            color: white;
            font-family: var(--font-main);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 16px rgba(88, 166, 255, 0.25);
        }

        .connect-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(88, 166, 255, 0.35);
        }

        .connect-btn.connected {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            box-shadow: none;
        }

        .connect-btn.connected:hover {
            border-color: var(--accent-blue);
        }

        /* Main Content */
        .main {
            flex: 1;
            padding: 32px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Stats Row */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px 24px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-hero);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .stat-card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
            box-shadow: var(--shadow-glow);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-icon {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            font-family: var(--font-mono);
            letter-spacing: -1px;
        }

        .stat-value.green {
            color: var(--accent-green);
        }

        .stat-value.gold {
            color: var(--accent-yellow);
        }

        .stat-sub {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 24px;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-body {
            padding: 24px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 4px;
            padding: 4px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
        }

        .tab {
            flex: 1;
            padding: 10px 16px;
            background: transparent;
            border: none;
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            font-family: var(--font-main);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab:hover {
            color: var(--text-primary);
        }

        .tab.active {
            background: var(--bg-card);
            color: var(--text-primary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .balance-hint {
            font-size: 12px;
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        .input-box {
            display: flex;
            align-items: center;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 4px;
            transition: all 0.2s;
        }

        .input-box:focus-within {
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.1);
        }

        .input-box input {
            flex: 1;
            padding: 14px 16px;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 20px;
            font-weight: 600;
            outline: none;
            min-width: 0;
        }

        .input-box input::placeholder {
            color: var(--text-muted);
            font-weight: 400;
        }

        .input-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            padding-right: 8px;
        }

        .max-btn {
            padding: 6px 12px;
            background: rgba(88, 166, 255, 0.1);
            border: 1px solid rgba(88, 166, 255, 0.3);
            border-radius: var(--radius-sm);
            color: var(--accent-blue);
            font-family: var(--font-main);
            font-size: 11px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .max-btn:hover {
            background: rgba(88, 166, 255, 0.2);
        }

        .token-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            background: var(--bg-elevated);
            border-radius: var(--radius-sm);
        }

        .token-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--gradient-hero);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        .token-name {
            font-weight: 600;
            font-size: 14px;
        }

        /* Info Panel */
        .info-panel {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin: 20px 0;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
        }

        .info-row:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }

        .info-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .info-value {
            font-size: 13px;
            font-weight: 600;
            font-family: var(--font-mono);
            color: var(--text-primary);
        }

        .info-value.highlight {
            color: var(--accent-green);
        }

        .info-value.gold {
            color: var(--accent-yellow);
        }

        /* Action Button */
        .action-btn {
            width: 100%;
            padding: 16px;
            background: var(--gradient-hero);
            border: none;
            border-radius: var(--radius-md);
            color: white;
            font-family: var(--font-main);
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 16px rgba(88, 166, 255, 0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(88, 166, 255, 0.35);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .action-btn.gold {
            background: var(--gradient-gold);
            box-shadow: 0 4px 16px rgba(210, 153, 34, 0.25);
        }

        .action-btn.gold:hover:not(:disabled) {
            box-shadow: 0 6px 24px rgba(210, 153, 34, 0.35);
        }

        .action-btn.outline {
            background: transparent;
            border: 1px solid var(--border-color);
            box-shadow: none;
        }

        .action-btn.outline:hover:not(:disabled) {
            border-color: var(--accent-blue);
            background: rgba(88, 166, 255, 0.05);
        }

        /* Leverage Slider */
        .leverage-section {
            margin: 24px 0;
        }

        .leverage-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 16px;
        }

        .leverage-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .leverage-value {
            font-size: 36px;
            font-weight: 800;
            font-family: var(--font-mono);
            background: var(--gradient-gold);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .leverage-slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: var(--bg-secondary);
            border-radius: 4px;
            outline: none;
            margin: 16px 0;
        }

        .leverage-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--gradient-gold);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 12px rgba(210, 153, 34, 0.5);
            transition: transform 0.2s;
        }

        .leverage-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .leverage-marks {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        /* Position Panel */
        .position-card {
            background: linear-gradient(135deg, rgba(88, 166, 255, 0.05) 0%, rgba(163, 113, 247, 0.05) 100%);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
        }

        .position-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .position-label {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .position-status {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: rgba(63, 185, 80, 0.1);
            border: 1px solid rgba(63, 185, 80, 0.3);
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            color: var(--accent-green);
        }

        .position-value {
            font-size: 32px;
            font-weight: 700;
            font-family: var(--font-mono);
            margin-bottom: 4px;
        }

        .position-sub {
            font-size: 13px;
            color: var(--text-muted);
        }

        /* Health Bar */
        .health-section {
            margin-top: 20px;
        }

        .health-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .health-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .health-value {
            font-size: 18px;
            font-weight: 700;
            font-family: var(--font-mono);
        }

        .health-value.safe { color: var(--accent-green); }
        .health-value.warning { color: var(--accent-yellow); }
        .health-value.danger { color: var(--accent-red); }

        .health-bar-bg {
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
        }

        .health-bar {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease, background 0.3s;
        }

        .health-bar.safe { background: linear-gradient(90deg, var(--accent-green), #56d364); }
        .health-bar.warning { background: linear-gradient(90deg, var(--accent-yellow), #e3b341); }
        .health-bar.danger { background: linear-gradient(90deg, var(--accent-red), #ff7b72); }

        .health-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 6px;
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Activity List */
        .activity-list {
            max-height: 320px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .activity-icon.deposit { background: rgba(63, 185, 80, 0.1); }
        .activity-icon.withdraw { background: rgba(248, 81, 73, 0.1); }
        .activity-icon.leverage { background: rgba(210, 153, 34, 0.1); }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .activity-time {
            font-size: 12px;
            color: var(--text-muted);
        }

        .activity-amount {
            font-family: var(--font-mono);
            font-size: 14px;
            font-weight: 600;
        }

        .activity-amount.positive { color: var(--accent-green); }
        .activity-amount.negative { color: var(--accent-red); }

        /* Alert Box */
        .alert {
            display: flex;
            gap: 12px;
            padding: 16px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
        }

        .alert.info {
            background: rgba(88, 166, 255, 0.08);
            border: 1px solid rgba(88, 166, 255, 0.2);
        }

        .alert.warning {
            background: rgba(210, 153, 34, 0.08);
            border: 1px solid rgba(210, 153, 34, 0.2);
        }

        .alert.success {
            background: rgba(63, 185, 80, 0.08);
            border: 1px solid rgba(63, 185, 80, 0.2);
        }

        .alert-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .alert-text {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-xl);
            width: 90%;
            max-width: 440px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px) scale(0.98);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 18px;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: var(--bg-elevated);
            color: var(--text-primary);
            border-color: var(--accent-red);
        }

        .modal-body {
            padding: 24px;
        }

        /* QR Code Section */
        .qr-section {
            text-align: center;
        }

        .qr-container {
            background: white;
            padding: 16px;
            border-radius: var(--radius-lg);
            display: inline-block;
            margin: 20px 0;
        }

        .qr-container img {
            display: block;
        }

        .pix-code-box {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 14px;
            margin: 16px 0;
            font-family: var(--font-mono);
            font-size: 10px;
            word-break: break-all;
            color: var(--text-muted);
            max-height: 70px;
            overflow-y: auto;
            text-align: left;
        }

        .copy-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: var(--font-main);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: var(--bg-elevated);
            border-color: var(--accent-blue);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 48px 24px;
        }

        .empty-icon {
            font-size: 56px;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .empty-text {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Footer */
        .footer {
            padding: 20px 32px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: var(--text-muted);
        }

        .footer-links {
            display: flex;
            gap: 24px;
        }

        .footer-link {
            color: var(--text-muted);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: var(--accent-blue);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--bg-elevated);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 1100px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 900px) {
            .stats-row {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 12px 16px;
            }
            
            .nav {
                display: none;
            }
            
            .main {
                padding: 20px 16px;
            }
            
            .stats-row {
                grid-template-columns: 1fr;
            }

            .stat-value {
                font-size: 24px;
            }

            .footer {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
        }

        /* Loading Spinner */
        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            padding: 16px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-card);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1001;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--accent-green);
        }

        .toast.error {
            border-color: var(--accent-red);
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="bg-glow"></div>
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Contract Addresses (Polygon Mainnet)
        const CONTRACTS = {
            efixDI: '0x04082b283818D9d0dd9Ee8742892eEe5CC396441',
            vault: '0x25b9b9E942Ae36261EB697226A60D5b73aec2b8A',
            oracle: '0xD9d24596DDAbB1CcE603D4d8AD04A97c1836Ae94',
            pixBridge: '0x1d97f1adbf545F3C99d33A6a2166Ee423A78f4C3',
            usdc: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',
            aaveAdapter: '0x13AB76468eFE0d35f2700DEcBd52Ce28f8827A0C'
        };

        // Minimal ABIs
        const ERC20_ABI = [
            'function balanceOf(address) view returns (uint256)',
            'function approve(address, uint256) returns (bool)',
            'function allowance(address, address) view returns (uint256)',
            'function decimals() view returns (uint8)'
        ];

        const VAULT_ABI = [
            'function deposit(uint256 amount) external',
            'function withdraw(uint256 amount) external',
            'function applyLeverage(uint256 loops) external',
            'function removeLeverage(uint256 loops) external',
            'function getPosition(address user) external view returns (uint256 collateral, uint256 debt, uint256 leverage)',
            'function getHealthFactor(address user) external view returns (uint256)',
            'function requestWithdrawal(uint256 amount, string pixKey) external'
        ];

        const PIX_BRIDGE_ABI = [
            'function requestWithdrawal(uint256 amount, string pixKey) external returns (bytes32)',
            'event WithdrawalRequested(bytes32 indexed withdrawalId, address indexed user, uint256 amount, string pixKey)'
        ];

        // PIX EMV Code
        const PIX_EMV = '00020126580014br.gov.bcb.pix013668c635d1-8540-404d-a8d2-7f9f0a6a49035204000053039865802BR5923ERNESTO LUIZ OTERO NETO6014RIO DE JANEIRO621605124917698940896304BC13';

        // Polygon Chain ID
        const POLYGON_CHAIN_ID = 137;

        function App() {
            // State
            const [wallet, setWallet] = useState(null);
            const [provider, setProvider] = useState(null);
            const [signer, setSigner] = useState(null);
            const [chainId, setChainId] = useState(null);
            const [loading, setLoading] = useState(false);
            const [activeTab, setActiveTab] = useState('deposit');
            const [amount, setAmount] = useState('');
            const [pixKey, setPixKey] = useState('');
            const [leverageLoops, setLeverageLoops] = useState(2);
            const [showPixModal, setShowPixModal] = useState(false);
            const [toast, setToast] = useState({ show: false, message: '', type: 'success' });
            
            const [balances, setBalances] = useState({
                efixDI: '0',
                usdc: '0',
                matic: '0'
            });
            
            const [position, setPosition] = useState({
                collateral: '0',
                debt: '0',
                leverage: '1.00',
                healthFactor: '2.00'
            });

            const [tvl, setTvl] = useState('1,247.14');

            // Show toast notification
            const showToast = (message, type = 'success') => {
                setToast({ show: true, message, type });
                setTimeout(() => setToast({ show: false, message: '', type: 'success' }), 4000);
            };

            // Format address
            const formatAddress = (addr) => {
                if (!addr) return '';
                return `${addr.slice(0, 6)}...${addr.slice(-4)}`;
            };

            // Format number
            const formatNum = (num, decimals = 2) => {
                const n = parseFloat(num);
                if (isNaN(n)) return '0.00';
                return n.toLocaleString('pt-BR', { 
                    minimumFractionDigits: decimals,
                    maximumFractionDigits: decimals 
                });
            };

            // Calculate APY
            const calculateAPY = (loops) => {
                const baseAPY = 14.25; // CDI
                const spread = 9.25; // CDI - USDC borrow
                const ltv = 0.7;
                let apy = baseAPY;
                let mult = ltv;
                
                for (let i = 0; i < loops; i++) {
                    apy += spread * mult;
                    mult *= ltv;
                }
                
                return apy.toFixed(1);
            };

            // Get health factor status
            const getHealthStatus = (hf) => {
                const val = parseFloat(hf);
                if (val >= 1.5) return 'safe';
                if (val >= 1.2) return 'warning';
                return 'danger';
            };

            const getHealthWidth = (hf) => {
                const val = parseFloat(hf);
                return Math.min((val / 2.5) * 100, 100);
            };

            // Connect wallet
            const connectWallet = async () => {
                if (!window.ethereum) {
                    showToast('MetaMask n√£o encontrada! Instale a extens√£o.', 'error');
                    return;
                }

                try {
                    setLoading(true);
                    const accounts = await window.ethereum.request({ 
                        method: 'eth_requestAccounts' 
                    });
                    
                    const prov = new ethers.providers.Web3Provider(window.ethereum);
                    const sign = prov.getSigner();
                    const network = await prov.getNetwork();
                    
                    setWallet(accounts[0]);
                    setProvider(prov);
                    setSigner(sign);
                    setChainId(network.chainId);

                    // Switch to Polygon if needed
                    if (network.chainId !== POLYGON_CHAIN_ID) {
                        try {
                            await window.ethereum.request({
                                method: 'wallet_switchEthereumChain',
                                params: [{ chainId: '0x89' }]
                            });
                            setChainId(POLYGON_CHAIN_ID);
                        } catch (switchError) {
                            if (switchError.code === 4902) {
                                await window.ethereum.request({
                                    method: 'wallet_addEthereumChain',
                                    params: [{
                                        chainId: '0x89',
                                        chainName: 'Polygon Mainnet',
                                        nativeCurrency: { name: 'MATIC', symbol: 'MATIC', decimals: 18 },
                                        rpcUrls: ['https://polygon-rpc.com'],
                                        blockExplorerUrls: ['https://polygonscan.com']
                                    }]
                                });
                            }
                        }
                    }

                    showToast('Carteira conectada com sucesso!');
                } catch (error) {
                    console.error('Connection error:', error);
                    showToast('Erro ao conectar carteira', 'error');
                } finally {
                    setLoading(false);
                }
            };

            // Load balances
            const loadBalances = useCallback(async () => {
                if (!provider || !wallet) return;

                try {
                    const efixDI = new ethers.Contract(CONTRACTS.efixDI, ERC20_ABI, provider);
                    const usdc = new ethers.Contract(CONTRACTS.usdc, ERC20_ABI, provider);
                    
                    const [efixBalance, usdcBalance, maticBalance] = await Promise.all([
                        efixDI.balanceOf(wallet),
                        usdc.balanceOf(wallet),
                        provider.getBalance(wallet)
                    ]);

                    setBalances({
                        efixDI: ethers.utils.formatEther(efixBalance),
                        usdc: ethers.utils.formatUnits(usdcBalance, 6),
                        matic: ethers.utils.formatEther(maticBalance)
                    });

                    // Try to load position
                    try {
                        const vault = new ethers.Contract(CONTRACTS.vault, VAULT_ABI, provider);
                        const pos = await vault.getPosition(wallet);
                        const hf = await vault.getHealthFactor(wallet);
                        
                        const collateral = ethers.utils.formatEther(pos.collateral);
                        const debt = ethers.utils.formatUnits(pos.debt, 6);
                        const leverage = parseFloat(ethers.utils.formatEther(pos.leverage)) || 1;
                        
                        setPosition({
                            collateral,
                            debt,
                            leverage: leverage.toFixed(2),
                            healthFactor: ethers.utils.formatEther(hf)
                        });
                    } catch (e) {
                        // Position not available yet
                    }
                } catch (error) {
                    console.error('Error loading balances:', error);
                }
            }, [provider, wallet]);

            // Effects
            useEffect(() => {
                if (wallet) {
                    loadBalances();
                    const interval = setInterval(loadBalances, 15000);
                    return () => clearInterval(interval);
                }
            }, [wallet, loadBalances]);

            useEffect(() => {
                if (window.ethereum) {
                    window.ethereum.on('accountsChanged', (accounts) => {
                        if (accounts.length > 0) {
                            setWallet(accounts[0]);
                        } else {
                            setWallet(null);
                            setProvider(null);
                            setSigner(null);
                        }
                    });

                    window.ethereum.on('chainChanged', () => {
                        window.location.reload();
                    });
                }
            }, []);

            // Handle leverage
            const handleLeverage = async () => {
                if (!signer || leverageLoops < 1) return;
                
                try {
                    setLoading(true);
                    
                    // First approve efixDI tokens
                    const efixDI = new ethers.Contract(CONTRACTS.efixDI, ERC20_ABI, signer);
                    const currentAllowance = await efixDI.allowance(wallet, CONTRACTS.vault);
                    const balance = await efixDI.balanceOf(wallet);
                    
                    if (currentAllowance.lt(balance)) {
                        showToast('Aprovando tokens...');
                        const approveTx = await efixDI.approve(CONTRACTS.vault, ethers.constants.MaxUint256);
                        await approveTx.wait();
                    }
                    
                    // Apply leverage
                    showToast('Aplicando alavancagem...');
                    const vault = new ethers.Contract(CONTRACTS.vault, VAULT_ABI, signer);
                    const tx = await vault.applyLeverage(leverageLoops);
                    await tx.wait();
                    
                    await loadBalances();
                    showToast(`Alavancagem ${leverageLoops}x aplicada com sucesso!`);
                } catch (error) {
                    console.error('Leverage error:', error);
                    showToast('Erro ao aplicar alavancagem: ' + (error.reason || error.message), 'error');
                } finally {
                    setLoading(false);
                }
            };

            // Handle withdraw
            const handleWithdraw = async () => {
                if (!signer || !amount || !pixKey) {
                    showToast('Preencha o valor e a chave PIX', 'error');
                    return;
                }
                
                try {
                    setLoading(true);
                    showToast('Iniciando saque...');
                    
                    const pixBridge = new ethers.Contract(CONTRACTS.pixBridge, PIX_BRIDGE_ABI, signer);
                    const amountWei = ethers.utils.parseEther(amount);
                    
                    const tx = await pixBridge.requestWithdrawal(amountWei, pixKey);
                    await tx.wait();
                    
                    await loadBalances();
                    setAmount('');
                    showToast('Saque solicitado! PIX ser√° enviado em breve.');
                } catch (error) {
                    console.error('Withdraw error:', error);
                    showToast('Erro no saque: ' + (error.reason || error.message), 'error');
                } finally {
                    setLoading(false);
                }
            };

            // Copy to clipboard
            const copyToClipboard = async (text) => {
                try {
                    await navigator.clipboard.writeText(text);
                    showToast('C√≥digo PIX copiado!');
                } catch (err) {
                    // Fallback
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    showToast('C√≥digo PIX copiado!');
                }
            };

            return (
                <div className="app">
                    {/* Header */}
                    <header className="header">
                        <div className="logo-section">
                            <a href="#" className="logo">
                                <div className="logo-mark">E</div>
                                <span className="logo-text">efixDI<span className="logo-plus">+</span></span>
                            </a>
                            <span className="beta-tag">Beta</span>
                        </div>
                        
                        <nav className="nav">
                            <a href="#" className="nav-link active">App</a>
                            <a href="https://efix.finance" className="nav-link">In√≠cio</a>
                            <a href="#" className="nav-link">Docs</a>
                            <a href={`https://polygonscan.com/address/${CONTRACTS.vault}`} className="nav-link" target="_blank" rel="noopener">Contratos</a>
                        </nav>
                        
                        <div className="header-right">
                            {wallet && chainId === POLYGON_CHAIN_ID && (
                                <div className="network-badge">
                                    <span className="network-dot"></span>
                                    Polygon
                                </div>
                            )}
                            
                            {wallet ? (
                                <button className="connect-btn connected">
                                    <span className="network-dot"></span>
                                    {formatAddress(wallet)}
                                </button>
                            ) : (
                                <button className="connect-btn" onClick={connectWallet} disabled={loading}>
                                    {loading ? <div className="spinner"></div> : 'üîó'} Conectar
                                </button>
                            )}
                        </div>
                    </header>

                    {/* Main */}
                    <main className="main">
                        {/* Stats */}
                        <div className="stats-row">
                            <div className="stat-card">
                                <div className="stat-icon">üí∞</div>
                                <div className="stat-label">Seu Saldo</div>
                                <div className="stat-value">{formatNum(balances.efixDI)}</div>
                                <div className="stat-sub">efixDI tokens</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-icon">üìà</div>
                                <div className="stat-label">APY Estimado</div>
                                <div className="stat-value green">{calculateAPY(parseInt(position.leverage) - 1 || 0)}%</div>
                                <div className="stat-sub">CDI + Alavancagem</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-icon">‚ö°</div>
                                <div className="stat-label">Alavancagem</div>
                                <div className="stat-value gold">{position.leverage}x</div>
                                <div className="stat-sub">Health: {formatNum(position.healthFactor)}</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-icon">üè¶</div>
                                <div className="stat-label">TVL Protocolo</div>
                                <div className="stat-value">R$ {tvl}</div>
                                <div className="stat-sub">+R$ 211 hoje</div>
                            </div>
                        </div>

                        {/* Dashboard */}
                        <div className="dashboard">
                            {/* Main Panel */}
                            <div className="card">
                                <div className="card-header">
                                    <h2 className="card-title">üíº Opera√ß√µes</h2>
                                    <div className="tabs">
                                        <button 
                                            className={`tab ${activeTab === 'deposit' ? 'active' : ''}`}
                                            onClick={() => setActiveTab('deposit')}
                                        >
                                            Depositar
                                        </button>
                                        <button 
                                            className={`tab ${activeTab === 'leverage' ? 'active' : ''}`}
                                            onClick={() => setActiveTab('leverage')}
                                        >
                                            Alavancagem
                                        </button>
                                        <button 
                                            className={`tab ${activeTab === 'withdraw' ? 'active' : ''}`}
                                            onClick={() => setActiveTab('withdraw')}
                                        >
                                            Sacar
                                        </button>
                                    </div>
                                </div>
                                
                                <div className="card-body">
                                    {!wallet ? (
                                        <div className="empty-state">
                                            <div className="empty-icon">üîê</div>
                                            <h3 className="empty-title">Conecte sua Carteira</h3>
                                            <p className="empty-text">
                                                Conecte sua MetaMask para acessar renda fixa tokenizada com yields de at√© 35% APY
                                            </p>
                                            <button className="action-btn" onClick={connectWallet} disabled={loading} style={{maxWidth: '280px', margin: '0 auto'}}>
                                                {loading ? <div className="spinner"></div> : 'üîó'} Conectar MetaMask
                                            </button>
                                        </div>
                                    ) : activeTab === 'deposit' ? (
                                        <>
                                            <div className="alert info">
                                                <span className="alert-icon">üí°</span>
                                                <div className="alert-content">
                                                    <div className="alert-title">Dep√≥sito via PIX</div>
                                                    <div className="alert-text">
                                                        Fa√ßa um PIX para nossa conta e receba tokens efixDI automaticamente. Valor 1:1 com o Real brasileiro.
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="form-group">
                                                <div className="form-label">
                                                    <span>Valor do Dep√≥sito</span>
                                                </div>
                                                <div className="input-box">
                                                    <input 
                                                        type="number" 
                                                        placeholder="0.00"
                                                        value={amount}
                                                        onChange={(e) => setAmount(e.target.value)}
                                                    />
                                                    <div className="input-actions">
                                                        <div className="token-badge">
                                                            <span className="token-name">R$</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="info-panel">
                                                <div className="info-row">
                                                    <span className="info-label">Taxa de dep√≥sito</span>
                                                    <span className="info-value highlight">0%</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Voc√™ receber√°</span>
                                                    <span className="info-value highlight">{amount || '0'} efixDI</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Rendimento base</span>
                                                    <span className="info-value">14.25% a.a. (CDI)</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Liquidez</span>
                                                    <span className="info-value highlight">D+0 (instant√¢neo)</span>
                                                </div>
                                            </div>

                                            <button className="action-btn gold" onClick={() => setShowPixModal(true)}>
                                                üì± Gerar QR Code PIX
                                            </button>
                                        </>
                                    ) : activeTab === 'leverage' ? (
                                        <>
                                            <div className="alert warning">
                                                <span className="alert-icon">‚ö†Ô∏è</span>
                                                <div className="alert-content">
                                                    <div className="alert-title">Risco de Liquida√ß√£o</div>
                                                    <div className="alert-text">
                                                        Alavancagem amplifica ganhos e perdas. Mantenha Health Factor acima de 1.2 para evitar liquida√ß√£o.
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="leverage-section">
                                                <div className="leverage-header">
                                                    <span className="leverage-label">Loops de Alavancagem</span>
                                                    <span className="leverage-value">{leverageLoops}x</span>
                                                </div>
                                                <input 
                                                    type="range" 
                                                    className="leverage-slider"
                                                    min="1" 
                                                    max="5" 
                                                    value={leverageLoops}
                                                    onChange={(e) => setLeverageLoops(parseInt(e.target.value))}
                                                />
                                                <div className="leverage-marks">
                                                    <span>1x</span>
                                                    <span>2x</span>
                                                    <span>3x</span>
                                                    <span>4x</span>
                                                    <span>5x</span>
                                                </div>
                                            </div>

                                            <div className="info-panel">
                                                <div className="info-row">
                                                    <span className="info-label">Colateral dispon√≠vel</span>
                                                    <span className="info-value">{formatNum(balances.efixDI)} efixDI</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">D√≠vida atual</span>
                                                    <span className="info-value">${formatNum(position.debt)} USDC</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">APY projetado</span>
                                                    <span className="info-value gold">{calculateAPY(leverageLoops)}%</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Health Factor estimado</span>
                                                    <span className="info-value">{(2.0 / leverageLoops).toFixed(2)}</span>
                                                </div>
                                            </div>

                                            <div style={{display: 'flex', gap: '12px'}}>
                                                <button 
                                                    className="action-btn gold" 
                                                    onClick={handleLeverage}
                                                    disabled={loading || parseFloat(balances.efixDI) === 0}
                                                    style={{flex: 1}}
                                                >
                                                    {loading ? <div className="spinner"></div> : 'üìà'} Aplicar {leverageLoops}x
                                                </button>
                                                <button 
                                                    className="action-btn outline"
                                                    disabled={loading || parseFloat(position.leverage) <= 1}
                                                    style={{flex: 1}}
                                                >
                                                    üìâ Remover
                                                </button>
                                            </div>
                                        </>
                                    ) : (
                                        <>
                                            <div className="form-group">
                                                <div className="form-label">
                                                    <span>Valor do Saque</span>
                                                    <span className="balance-hint">Saldo: {formatNum(balances.efixDI)} efixDI</span>
                                                </div>
                                                <div className="input-box">
                                                    <input 
                                                        type="number" 
                                                        placeholder="0.00"
                                                        value={amount}
                                                        onChange={(e) => setAmount(e.target.value)}
                                                    />
                                                    <div className="input-actions">
                                                        <button 
                                                            className="max-btn"
                                                            onClick={() => setAmount(balances.efixDI)}
                                                        >
                                                            Max
                                                        </button>
                                                        <div className="token-badge">
                                                            <div className="token-icon">E</div>
                                                            <span className="token-name">efixDI</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div className="form-group">
                                                <div className="form-label">
                                                    <span>Chave PIX (destino)</span>
                                                </div>
                                                <div className="input-box">
                                                    <input 
                                                        type="text" 
                                                        placeholder="email@exemplo.com, CPF ou telefone"
                                                        value={pixKey}
                                                        onChange={(e) => setPixKey(e.target.value)}
                                                    />
                                                </div>
                                            </div>

                                            <div className="info-panel">
                                                <div className="info-row">
                                                    <span className="info-label">Taxa de saque</span>
                                                    <span className="info-value">0.5%</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Voc√™ receber√°</span>
                                                    <span className="info-value highlight">R$ {formatNum((parseFloat(amount) || 0) * 0.995)}</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Tempo estimado</span>
                                                    <span className="info-value highlight">Instant√¢neo (D+0)</span>
                                                </div>
                                            </div>

                                            <button 
                                                className="action-btn" 
                                                onClick={handleWithdraw}
                                                disabled={loading || !amount || parseFloat(amount) <= 0 || !pixKey}
                                            >
                                                {loading ? <div className="spinner"></div> : 'üí∏'} Sacar via PIX
                                            </button>
                                        </>
                                    )}
                                </div>
                            </div>

                            {/* Side Panel */}
                            <div style={{display: 'flex', flexDirection: 'column', gap: '20px'}}>
                                {/* Position */}
                                <div className="card">
                                    <div className="card-header">
                                        <h3 className="card-title">üìä Sua Posi√ß√£o</h3>
                                    </div>
                                    <div className="card-body">
                                        <div className="position-card">
                                            <div className="position-header">
                                                <span className="position-label">Valor Total</span>
                                                {parseFloat(balances.efixDI) > 0 && (
                                                    <span className="position-status">
                                                        <span className="network-dot"></span>
                                                        Ativo
                                                    </span>
                                                )}
                                            </div>
                                            <div className="position-value">R$ {formatNum(balances.efixDI)}</div>
                                            <div className="position-sub">{formatNum(balances.efixDI)} efixDI</div>
                                        </div>

                                        <div className="health-section">
                                            <div className="health-header">
                                                <span className="health-label">Health Factor</span>
                                                <span className={`health-value ${getHealthStatus(position.healthFactor)}`}>
                                                    {formatNum(position.healthFactor)}
                                                </span>
                                            </div>
                                            <div className="health-bar-bg">
                                                <div 
                                                    className={`health-bar ${getHealthStatus(position.healthFactor)}`}
                                                    style={{width: `${getHealthWidth(position.healthFactor)}%`}}
                                                />
                                            </div>
                                            <div className="health-labels">
                                                <span>Liquida√ß√£o (1.0)</span>
                                                <span>Seguro (2.0+)</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* Activity */}
                                <div className="card">
                                    <div className="card-header">
                                        <h3 className="card-title">üìú Atividade Recente</h3>
                                    </div>
                                    <div className="card-body">
                                        <div className="activity-list">
                                            <div className="activity-item">
                                                <div className="activity-icon deposit">üì•</div>
                                                <div className="activity-info">
                                                    <div className="activity-title">Dep√≥sito PIX</div>
                                                    <div className="activity-time">Hoje, 18:02</div>
                                                </div>
                                                <div className="activity-amount positive">+211.17</div>
                                            </div>
                                            <div className="activity-item">
                                                <div className="activity-icon withdraw">üì§</div>
                                                <div className="activity-info">
                                                    <div className="activity-title">Saque PIX</div>
                                                    <div className="activity-time">Hoje, 18:01</div>
                                                </div>
                                                <div className="activity-amount negative">-199.00</div>
                                            </div>
                                            <div className="activity-item">
                                                <div className="activity-icon leverage">‚ö°</div>
                                                <div className="activity-info">
                                                    <div className="activity-title">Leverage 1.7x</div>
                                                    <div className="activity-time">Hoje, 17:45</div>
                                                </div>
                                                <div className="activity-amount">+139.99</div>
                                            </div>
                                            <div className="activity-item">
                                                <div className="activity-icon deposit">üì•</div>
                                                <div className="activity-info">
                                                    <div className="activity-title">Dep√≥sito Inicial</div>
                                                    <div className="activity-time">Hoje, 17:30</div>
                                                </div>
                                                <div className="activity-amount positive">+200.00</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="footer">
                        <span>¬© 2026 efixDI+ Protocol ‚Ä¢ Powered by EFIX Securitizadora</span>
                        <div className="footer-links">
                            <a href="#" className="footer-link">Termos</a>
                            <a href="#" className="footer-link">Privacidade</a>
                            <a href={`https://polygonscan.com/address/${CONTRACTS.vault}`} className="footer-link" target="_blank">Contratos</a>
                            <a href="https://github.com/Develop-ltda/efix_finance" className="footer-link" target="_blank">GitHub</a>
                        </div>
                    </footer>

                    {/* PIX Modal */}
                    <div className={`modal-overlay ${showPixModal ? 'active' : ''}`} onClick={() => setShowPixModal(false)}>
                        <div className="modal" onClick={(e) => e.stopPropagation()}>
                            <div className="modal-header">
                                <h3 className="modal-title">üì± Depositar via PIX</h3>
                                <button className="modal-close" onClick={() => setShowPixModal(false)}>√ó</button>
                            </div>
                            <div className="modal-body">
                                <div className="qr-section">
                                    <p style={{color: 'var(--text-secondary)', marginBottom: '8px', fontSize: '14px'}}>
                                        Escaneie o QR Code ou copie o c√≥digo Copia e Cola
                                    </p>
                                    
                                    <div className="qr-container">
                                        <img 
                                            src={`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(PIX_EMV)}&bgcolor=ffffff&color=000000`}
                                            alt="QR Code PIX"
                                            width="180"
                                            height="180"
                                        />
                                    </div>
                                    
                                    <div className="pix-code-box">
                                        {PIX_EMV}
                                    </div>
                                    
                                    <button className="copy-btn" onClick={() => copyToClipboard(PIX_EMV)}>
                                        üìã Copiar C√≥digo PIX
                                    </button>

                                    <div className="alert success" style={{marginTop: '20px', textAlign: 'left'}}>
                                        <span className="alert-icon">‚úÖ</span>
                                        <div className="alert-content">
                                            <div className="alert-title">Ap√≥s o pagamento</div>
                                            <div className="alert-text">
                                                Seus tokens efixDI ser√£o creditados automaticamente em at√© 2 minutos. Taxa de convers√£o: 1 BRL = 1 efixDI.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Toast */}
                    <div className={`toast ${toast.show ? 'show' : ''} ${toast.type}`}>
                        {toast.type === 'success' ? '‚úÖ' : '‚ùå'} {toast.message}
                    </div>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
